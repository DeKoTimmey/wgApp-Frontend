{"ast":null,"code":"import _classCallCheck from \"E:\\\\wgFrontend\\\\wgfrontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\wgFrontend\\\\wgfrontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\wgFrontend\\\\wgfrontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\wgFrontend\\\\wgfrontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\wgFrontend\\\\wgfrontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\wgFrontend\\\\wgfrontend\\\\src\\\\components\\\\switchBtn\\\\switchBtn.js\";\nimport React from \"react\";\nimport purple from \"@material-ui/core/colors/purple\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\n\nvar SwitchBtn =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SwitchBtn, _React$Component);\n\n  function SwitchBtn(props) {\n    var _this;\n\n    _classCallCheck(this, SwitchBtn);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SwitchBtn).call(this, props));\n    _this.state = {\n      lights: []\n    };\n    return _this;\n  }\n\n  _createClass(SwitchBtn, [{\n    key: \"loadLights\",\n    value: function loadLights() {\n      var _this2 = this;\n\n      fetch(\"http://116.203.42.55/lights\").then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        console.log(res);\n\n        _this2.setState({\n          lights: res.lightStates\n        });\n      });\n      console.log(this.state.lights);\n    }\n  }, {\n    key: \"toggleLights\",\n    value: function toggleLights(i) {\n      var _this3 = this;\n\n      fetch(\"http://116.203.42.55/toggleLights\", {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          lightStates: i\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        console.log(res);\n\n        _this3.loadLights();\n      });\n    }\n    /*\n    handleClick(e){\n      switch (e) {\n        case 1:\n        this.setState({\n          light1: !this.state.light1\n        });\n          break;\n        case 2:\n        this.setState({\n          light2: !this.state.light2\n        });\n          break;\n        case 3:\n        this.setState({\n          light3: !this.state.light3\n        });\n          break;\n        case 4:\n        this.setState({\n          light4: !this.state.light4\n        });\n          break;\n      }\n    console.log(this.state);\n    }\n    */\n\n  }, {\n    key: \"handleLable\",\n    value: function handleLable(e) {\n      if (this.state.e) {\n        return \"ON\";\n      } else {\n        return \"OFF\";\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(FormGroup, {\n        row: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(FormControlLabel, {\n        control: React.createElement(Switch, {\n          value: \"light1\",\n          onClick: function onClick() {\n            return _this4.toggleLights(0);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }),\n        label: this.handleLable(0),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(FormControlLabel, {\n        control: React.createElement(Switch, {\n          value: \"light2\",\n          onClick: function onClick() {\n            return _this4.toggleLights(1);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }),\n        label: this.handleLable(1),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }), React.createElement(FormControlLabel, {\n        control: React.createElement(Switch, {\n          value: \"light2\",\n          onClick: function onClick() {\n            return _this4.toggleLights(2);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }),\n        label: this.handleLable(2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }), React.createElement(FormControlLabel, {\n        control: React.createElement(Switch, {\n          value: \"light2\",\n          onClick: function onClick() {\n            return _this4.toggleLights(3);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }),\n        label: this.handleLable(3),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return SwitchBtn;\n}(React.Component);\n\nexport default SwitchBtn;","map":{"version":3,"sources":["E:\\wgFrontend\\wgfrontend\\src\\components\\switchBtn\\switchBtn.js"],"names":["React","purple","FormGroup","FormControlLabel","Switch","SwitchBtn","props","state","lights","fetch","then","res","json","console","log","setState","lightStates","i","method","headers","body","JSON","stringify","loadLights","e","toggleLights","handleLable","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,iCAAnB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,gBAAP,MAA6B,oCAA7B;AACA,OAAOC,MAAP,MAAmB,0BAAnB;;IAEMC,S;;;;;AACJ,qBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,mFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,MAAM,EAAE;AADG,KAAb;AAFiB;AAKlB;;;;iCACY;AAAA;;AACXC,MAAAA,KAAK,CAAC,6BAAD,CAAL,CAAqCC,IAArC,CAA0C,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,OAA7C,EAA6DF,IAA7D,CAAkE,UAACC,GAAD,EAAS;AACzEE,QAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;;AACA,QAAA,MAAI,CAACI,QAAL,CAAc;AAACP,UAAAA,MAAM,EAAEG,GAAG,CAACK;AAAb,SAAd;AACD,OAHD;AAIAH,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKP,KAAL,CAAWC,MAAvB;AAED;;;iCAEYS,C,EAAG;AAAA;;AACdR,MAAAA,KAAK,CAAC,mCAAD,EAAsC;AACzCS,QAAAA,MAAM,EAAE,MADiC;AAEzCC,QAAAA,OAAO,EAAE;AACP,oBAAU,kBADH;AAEP,0BAAgB;AAFT,SAFgC;AAMzCC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACN,UAAAA,WAAW,EAAEC;AAAd,SAAf;AANmC,OAAtC,CAAL,CAOGP,IAPH,CAOQ,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,OAPX,EAO2BF,IAP3B,CAOgC,UAACC,GAAD,EAAS;AACvCE,QAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;;AACA,QAAA,MAAI,CAACY,UAAL;AACD,OAVD;AAWD;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gCA4BYC,C,EAAG;AACb,UAAI,KAAKjB,KAAL,CAAWiB,CAAf,EAAkB;AAChB,eAAO,IAAP;AACD,OAFD,MAEO;AACL,eAAO,KAAP;AACD;AACF;;;6BAEQ;AAAA;;AACP,aAAQ,oBAAC,SAAD;AAAW,QAAA,GAAG,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACN,oBAAC,gBAAD;AAAkB,QAAA,OAAO,EAAE,oBAAC,MAAD;AACzB,UAAA,KAAK,EAAG,QADiB;AAEzB,UAAA,OAAO,EACL;AAAA,mBAAM,MAAI,CAACC,YAAL,CAAkB,CAAlB,CAAN;AAAA,WAHuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAA3B;AAKM,QAAA,KAAK,EAAE,KAAKC,WAAL,CAAiB,CAAjB,CALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADM,EAQN,oBAAC,gBAAD;AAAkB,QAAA,OAAO,EAAE,oBAAC,MAAD;AACzB,UAAA,KAAK,EAAG,QADiB;AAEzB,UAAA,OAAO,EACL;AAAA,mBAAM,MAAI,CAACD,YAAL,CAAkB,CAAlB,CAAN;AAAA,WAHuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAA3B;AAKM,QAAA,KAAK,EAAE,KAAKC,WAAL,CAAiB,CAAjB,CALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARM,EAeN,oBAAC,gBAAD;AAAkB,QAAA,OAAO,EAAE,oBAAC,MAAD;AACzB,UAAA,KAAK,EAAG,QADiB;AAEzB,UAAA,OAAO,EACL;AAAA,mBAAM,MAAI,CAACD,YAAL,CAAkB,CAAlB,CAAN;AAAA,WAHuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAA3B;AAKM,QAAA,KAAK,EAAE,KAAKC,WAAL,CAAiB,CAAjB,CALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAfM,EAsBN,oBAAC,gBAAD;AAAkB,QAAA,OAAO,EAAE,oBAAC,MAAD;AACzB,UAAA,KAAK,EAAG,QADiB;AAEzB,UAAA,OAAO,EACL;AAAA,mBAAM,MAAI,CAACD,YAAL,CAAkB,CAAlB,CAAN;AAAA,WAHuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAA3B;AAKM,QAAA,KAAK,EAAE,KAAKC,WAAL,CAAiB,CAAjB,CALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAtBM,CAAR;AA6BD;;;;EAhGqB1B,KAAK,CAAC2B,S;;AAmG9B,eAAetB,SAAf","sourcesContent":["import React from \"react\";\r\nimport purple from \"@material-ui/core/colors/purple\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\n\r\nclass SwitchBtn extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      lights: []\r\n    }\r\n  }\r\n  loadLights() {\r\n    fetch(\"http://116.203.42.55/lights\").then(res => res.json()).then((res) => {\r\n      console.log(res);\r\n      this.setState({lights: res.lightStates})\r\n    })\r\n    console.log(this.state.lights);\r\n\r\n  }\r\n\r\n  toggleLights(i) {\r\n    fetch(\"http://116.203.42.55/toggleLights\", {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({lightStates: i})\r\n    }).then(res => res.json()).then((res) => {\r\n      console.log(res);\r\n      this.loadLights()\r\n    })\r\n  }\r\n\r\n  /*\n  handleClick(e){\n    switch (e) {\n      case 1:\n      this.setState({\n        light1: !this.state.light1\n      });\n        break;\n      case 2:\n      this.setState({\n        light2: !this.state.light2\n      });\n        break;\n      case 3:\n      this.setState({\n        light3: !this.state.light3\n      });\n        break;\n      case 4:\n      this.setState({\n        light4: !this.state.light4\n      });\n        break;\n    }\nconsole.log(this.state);\n  }\n*/\r\n\r\n  handleLable(e) {\r\n    if (this.state.e) {\r\n      return \"ON\";\r\n    } else {\r\n      return \"OFF\"\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (<FormGroup row=\"row\">\r\n      <FormControlLabel control={<Switch\r\n        value = \"light1\"\r\n        onClick = {\r\n          () => this.toggleLights(0)\r\n        }\r\n        />} label={this.handleLable(0)}/>\r\n\r\n      <FormControlLabel control={<Switch\r\n        value = \"light2\"\r\n        onClick = {\r\n          () => this.toggleLights(1)\r\n        }\r\n        />} label={this.handleLable(1)}/>\r\n\r\n      <FormControlLabel control={<Switch\r\n        value = \"light2\"\r\n        onClick = {\r\n          () => this.toggleLights(2)\r\n        }\r\n        />} label={this.handleLable(2)}/>\r\n\r\n      <FormControlLabel control={<Switch\r\n        value = \"light2\"\r\n        onClick = {\r\n          () => this.toggleLights(3)\r\n        }\r\n        />} label={this.handleLable(3)}/>\r\n    </FormGroup>);\r\n  }\r\n}\r\n\r\nexport default SwitchBtn;\r\n"]},"metadata":{},"sourceType":"module"}