{"ast":null,"code":"import _defineProperty from \"D:\\\\Server\\\\WG-App-Frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"D:\\\\Server\\\\WG-App-Frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Server\\\\WG-App-Frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Server\\\\WG-App-Frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Server\\\\WG-App-Frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Server\\\\WG-App-Frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\Server\\\\WG-App-Frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\Server\\\\WG-App-Frontend\\\\src\\\\components\\\\auth\\\\login.js\";\nimport React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { loginUser } from \"../../actions/authActions\";\nimport classnames from \"classnames\";\nimport Register from './register';\nimport './register.css';\nimport InputBase from '@material-ui/core/InputBase';\nimport Paper from '@material-ui/core/Paper';\nimport SendIcon from '@material-ui/icons/Send';\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport CardActions from '@material-ui/core/CardActions';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport TextField from '@material-ui/core/TextField';\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n    _this.state = {\n      email: \"\",\n      password: \"\",\n      errors: {}\n    };\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.auth.isAuthenticated) {\n        this.props.history.push(\"/dashboard\"); // push user to dashboard when they login\n      }\n\n      if (nextProps.errors) {\n        this.setState({\n          errors: nextProps.errors\n        });\n      }\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(e) {\n      this.setState(_defineProperty({}, e.target.id, e.target.value));\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(e) {\n      e.preventDefault();\n      var userData = {\n        email: this.state.email,\n        password: this.state.password\n      };\n      console.log(userData);\n      this.props.loginUser(userData);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // If logged in and user navigates to Login page, should redirect them to dashboard\n      if (this.props.auth.isAuthenticated) {\n        this.props.history.push(\"/dashboard\");\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var errors = this.state.errors;\n      return React.createElement(\"div\", {\n        className: \"wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(Card, {\n        className: \"loginCard\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        noValidate: true,\n        autoComplete: \"off\",\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(CardContent, {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        gutterBottom: true,\n        variant: \"h5\",\n        component: \"h2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Moin!\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        label: \"Email\",\n        type: \"email\",\n        id: \"email\",\n        margin: \"normal\",\n        className: classnames(\"textField\", {\n          invalid: errors.email || errors.emailnotfound\n        }),\n        onChange: this.onChange,\n        value: this.state.email,\n        error: errors.email,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        label: \"Passwort\",\n        type: \"password\",\n        id: \"password\",\n        margin: \"normal\",\n        className: classnames(\"textField\", {\n          invalid: errors.password || errors.passwordincorrect\n        }),\n        onChange: this.onChange,\n        value: this.state.password,\n        error: errors.password,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      })), React.createElement(CardActions, {\n        className: \"cardAction\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"Login\"))))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nLogin.propTypes = {\n  loginUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    errors: state.errors\n  };\n};\n\nexport default connect(mapStateToProps, {\n  loginUser: loginUser\n})(Login);","map":{"version":3,"sources":["D:\\Server\\WG-App-Frontend\\src\\components\\auth\\login.js"],"names":["React","Component","Link","PropTypes","connect","loginUser","classnames","Register","InputBase","Paper","SendIcon","DeleteOutlineIcon","Button","Card","CardContent","Typography","CardActions","Checkbox","MenuItem","TextField","Login","props","state","email","password","errors","onChange","bind","onSubmit","nextProps","auth","isAuthenticated","history","push","setState","e","target","id","value","preventDefault","userData","console","log","invalid","emailnotfound","passwordincorrect","propTypes","func","isRequired","object","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { loginUser } from \"../../actions/authActions\";\r\nimport classnames from \"classnames\";\r\nimport Register from './register';\r\nimport './register.css';\r\n\r\n\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\n\r\nclass Login extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n        email: \"\",\r\n        password: \"\",\r\n        errors: {}\r\n    };\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.auth.isAuthenticated) {\r\n          this.props.history.push(\"/dashboard\"); // push user to dashboard when they login\r\n        }\r\n    if (nextProps.errors) {\r\n          this.setState({\r\n            errors: nextProps.errors\r\n          });\r\n        }\r\n      }\r\n\r\n\r\n    onChange(e){\r\n        this.setState({ [e.target.id]: e.target.value });\r\n      };\r\n    onSubmit(e){\r\n        e.preventDefault();\r\n        const userData = {\r\n              email: this.state.email,\r\n              password: this.state.password\r\n            };\r\n            console.log(userData);\r\n            this.props.loginUser(userData);\r\n}\r\n\r\n\r\ncomponentDidMount() {\r\n    // If logged in and user navigates to Login page, should redirect them to dashboard\r\n    if (this.props.auth.isAuthenticated) {\r\n      this.props.history.push(\"/dashboard\");\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n      const { errors } = this.state;\r\n    return (\r\n        <div className=\"wrapper\">\r\n        <Card className=\"loginCard\">\r\n            <form noValidate autoComplete=\"off\" onSubmit={this.onSubmit}>\r\n                <CardContent className=\"content\">\r\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                Moin!\r\n                </Typography>\r\n                <div>\r\n                <TextField\r\n                  label=\"Email\"\r\n                  type=\"email\"\r\n                  id=\"email\"\r\n                  margin=\"normal\"\r\n                  className={classnames(\"textField\", {\r\n                  invalid: errors.email || errors.emailnotfound\r\n                    })}\r\n                  onChange={this.onChange}\r\n                  value={this.state.email}\r\n                  error={errors.email}\r\n                />\r\n                </div>\r\n                <div>\r\n                <TextField\r\n                  label=\"Passwort\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  margin=\"normal\"\r\n                  className={classnames(\"textField\", {\r\n                  invalid: errors.password || errors.passwordincorrect\r\n                })}\r\n                  onChange={this.onChange}\r\n                  value={this.state.password}\r\n                  error={errors.password}\r\n                />\r\n                </div>\r\n                <CardActions className=\"cardAction\">\r\n                <Button variant=\"contained\" color=\"primary\" type=\"submit\">\r\n                Login\r\n                </Button>\r\n\r\n                </CardActions>\r\n                </CardContent>\r\n           </form>\r\n       </Card>\r\n       </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nLogin.propTypes = {\r\n  loginUser: PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  errors: PropTypes.object.isRequired\r\n};\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth,\r\n  errors: state.errors\r\n});\r\nexport default connect(\r\n  mapStateToProps,\r\n  { loginUser }\r\n)(Login);\r\n"]},"metadata":{},"sourceType":"module"}